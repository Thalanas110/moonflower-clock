<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>୨୧ • Moonflower Quarter • ୨୧</title>
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
		<style>
			body {
				/* Use the provided image as a full-bleed background. Save the image as bg.jpg in the same folder. */
				background-image: linear-gradient(rgba(8,6,8,0.46), rgba(6,6,6,0.72)), url("bg.jpg");
				background-size: cover;
				background-position: center center;
				background-repeat: no-repeat;
				color: #f3f3f3;
				display: flex;
				justify-content: center;
				align-items: center;
				min-height: 100vh;
				margin: 0;
				font-family: 'Poppins', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
			}
			.container {
				display: flex;
				flex-direction: column;
				align-items: center;
				gap: 2.2rem;
				/* softer, slightly purple-tinted panel to harmonize with bg.jpg */
				background: linear-gradient(180deg, rgba(24,14,30,0.68) 0%, rgba(12,6,20,0.78) 100%);
				padding: 2.8rem 3.2rem;
				border-radius: 1.25rem;
				box-shadow: 0 20px 60px rgba(6,4,10,0.75), inset 0 1px 0 rgba(255,255,255,0.02);
				min-width: 320px;
				width: min(88vw, 560px);
			}
			.date {
				font-size: 1.05rem;
				letter-spacing: 0.02em;
				margin-bottom: 0.2rem;
				color: rgba(255,255,255,0.8);
				text-shadow: 0 2px 8px rgba(0,0,0,0.6);
			}
			.clock-title {
				position: relative;
				display: inline-block;
				font-size: 1.15rem;
				letter-spacing: 0.18em;
				text-transform: none;
				font-weight: 700;
				color: transparent;
				/* lavender -> violet -> warm pink to match dusk tones */
				background: linear-gradient(90deg, #f5d9ff 0%, #c798ff 55%, #ff9fb3 100%);
				-webkit-background-clip: text;
				background-clip: text;
				-webkit-text-fill-color: transparent;
				margin-bottom: 0.35rem;
				text-shadow: 0 6px 24px rgba(0,0,0,0.6), 0 1px 0 rgba(255,255,255,0.02);
				padding: 0.06rem 0.25rem;
				border-radius: 0.45rem;
				box-decoration-break: clone;
				transition: transform 0.3s ease, opacity 0.3s ease;
			}
			.clock-title::before,
			.clock-title::after {
				content: '❀';
				position: absolute;
				top: 50%;
				transform: translateY(-50%);
				font-size: 1.05rem;
				color: rgba(170,120,255,0.12);
				opacity: 0.95;
				filter: blur(0.2px);
				pointer-events: none;
			}
			.clock-title::before {
				left: -1.5rem;
				transform: translateY(-50%) rotate(-12deg);
				animation: floatTitle 6s ease-in-out infinite;
			}
			.clock-title::after {
				right: -1.5rem;
				transform: translateY(-50%) rotate(12deg);
				animation: floatTitle 6s ease-in-out infinite reverse;
			}

			@keyframes floatTitle {
				0% { transform: translateY(-50%) translateX(0) rotate(-12deg); }
				50% { transform: translateY(-52%) translateX(-3px) rotate(-8deg); }
				100% { transform: translateY(-50%) translateX(0) rotate(-12deg); }
			}
			.clock {
				font-size: 4.8rem;
				letter-spacing: 0.06em;
				/* deep translucent purple panel for clock to sit on */
				background: linear-gradient(90deg, rgba(12,6,24,0.86) 0%, rgba(28,10,42,0.86) 100%);
				padding: 1.15rem 2.2rem;
				border-radius: 1rem;
				box-shadow: 0 30px 60px rgba(8,6,20,0.6), inset 0 2px 0 rgba(255,255,255,0.01);
				user-select: none;
				font-weight: 700;
				text-shadow: 0 6px 28px rgba(20,8,40,0.7);
				transition: color 0.35s ease, box-shadow 0.35s ease, transform 0.25s ease;
			}
			.labels {
				margin-top: 2em;
				text-align: center;
				width: 100%;
			}
			.label-row {
				font-size: 1.3em;
				margin-bottom: 0.5em;
				display: flex;
				justify-content: center;
				align-items: center;
				gap: 0.7em;
				color: #888;
			}
			.label-row span {
				font-weight: bold;
				color: #fff;
				background: #222;
				padding: 0.1em 0.5em;
				border-radius: 0.4em;
				box-shadow: 0 1px 0 #333 inset;
			}
			#chat-timer {
				font-size: 1.25rem;
				margin-top: 1.25rem;
				color: rgba(255,255,255,0.92);
				transition: color 0.35s cubic-bezier(.2,.8,.2,1), background 0.35s cubic-bezier(.2,.8,.2,1), transform 0.25s ease;
				background: linear-gradient(180deg, rgba(34,34,34,0.9) 0%, rgba(26,26,26,0.85) 100%);
				padding: 0.55rem 1.2rem;
				border-radius: 0.9rem;
				box-shadow: 0 20px 40px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
				font-weight: 600;
				letter-spacing: 0.08em;
				min-width: 160px;
				display: inline-block;
				text-align: center;
			}
			#chat-timer.green {
				color: #b7ffdd;
				background: linear-gradient(180deg, #03363a 0%, #022827 100%);
				box-shadow: 0 0 30px rgba(95,255,210,0.06), 0 6px 20px rgba(0,0,0,0.45);
				transform: translateY(-2px);
			}
			#chat-timer.red {
				color: #ffd1d6;
				background: linear-gradient(180deg, #4a0f2a 0%, #2a0816 100%);
				box-shadow: 0 0 48px rgba(255,120,160,0.12), 0 12px 30px rgba(0,0,0,0.6);
				transform: translateY(-3px);
				animation: pulseRed 2s infinite ease-in-out;
			}
			.clock.red {
				color: #ffd0d6;
				background: linear-gradient(90deg, rgba(80,18,46,0.98) 0%, rgba(44,10,28,0.98) 100%);
				box-shadow: 0 30px 100px rgba(255,120,180,0.08), inset 0 2px 0 rgba(255,255,255,0.02);
				transform: translateY(-2px);
				animation: pulseRed 2.2s infinite ease-in-out;
			}

			@keyframes pulseRed {
				0% { box-shadow: 0 20px 40px rgba(255,60,60,0.06), 0 0 0 rgba(255,60,60,0); }
				50% { box-shadow: 0 40px 80px rgba(255,60,60,0.12), 0 0 40px rgba(255,60,60,0.06); }
				100% { box-shadow: 0 20px 40px rgba(255,60,60,0.06), 0 0 0 rgba(255,60,60,0); }
			}

			/* Image theming - keeps any artwork consistent with the clock aesthetic */
			.image-wrapper {
				width: 100%;
				max-width: 420px;
				border-radius: 1rem;
				overflow: hidden;
				margin: 0.6rem 0;
				position: relative;
				box-shadow: 0 30px 60px rgba(0,0,0,0.7), inset 0 2px 0 rgba(255,255,255,0.02);
				background: linear-gradient(180deg, rgba(20,12,12,0.25), rgba(10,6,6,0.12));
			}

			.image-wrapper::after {
				content: '';
				position: absolute;
				inset: 0;
				pointer-events: none;
				box-shadow: inset 0 80px 120px rgba(0,0,0,0.35), inset 0 -30px 60px rgba(0,0,0,0.18);
				mix-blend-mode: multiply;
			}

			.container img,
			.image-wrapper img,
			img.artwork {
				display: block;
				width: 100%;
				height: auto;
				object-fit: cover;
				filter: saturate(0.98) contrast(1.03) brightness(0.96);
				transition: transform 0.45s cubic-bezier(.2,.9,.2,1), filter 0.35s ease, opacity 0.35s ease;
			}

			.container img:hover,
			.image-wrapper img:hover,
			img.artwork:hover {
				transform: scale(1.02);
				filter: saturate(1.06) contrast(1.06) brightness(1);
			}

			/* Smaller max-width on mobile so image doesn't overpower layout */
			@media (max-width: 600px) {
				.image-wrapper { max-width: 360px; border-radius: 0.9rem; }
			}

			/* background image is set on body now (bg.jpg) */

			/* Responsive breakpoints */
			@media (max-width: 900px) {
				.container { padding: 2rem; gap: 1.6rem; }
				.clock { font-size: 3.6rem; padding: 0.9rem 1.6rem; }
				#chat-timer { font-size: 1.05rem; min-width: 140px; padding: 0.45rem 1rem; }
				.clock-title { font-size: 1.05rem; left: auto; right: auto; }
			}

			@media (max-width: 600px) {
				.container { padding: 1.4rem; gap: 1.2rem; width: min(94vw, 460px); }
				.clock { font-size: 2.6rem; padding: 0.7rem 1.1rem; border-radius: 0.9rem; }
				.clock-title { font-size: 0.95rem; letter-spacing: 0.12em; }
				.date { font-size: 0.9rem; }
				#chat-timer { font-size: 1rem; min-width: 120px; padding: 0.35rem 0.9rem; }
				.label-row { font-size: 1rem; gap: 0.5rem; }
				.label-row span { padding: 0.06em 0.4em; }
				.clock-title::before { left: -1.1rem; font-size: 0.95rem; }
				.clock-title::after { right: -1.1rem; font-size: 0.95rem; }
			}
		</style>
</head>
<body>
			<div class="container">
				<div class="clock-title">୨୧ • Moonflower Quarter • ୨୧</div>
				<!-- background image is applied to the body via CSS (bg.jpg) -->
				<div class="date" id="date"></div>
				<div class="clock" id="clock"></div>
				<div id="chat-timer">Timer</div>
				<div class="labels">
					<div class="label-row">CHAT OFF <span>10:00pm</span></div>
					<div class="label-row">CHAT ON <span>11:00pm</span></div>
				</div>
				<!-- background chooser removed -->
			</div>
		<script>
				function updateClock() {
					const now = new Date();
					const h = String(now.getHours()).padStart(2, '0');
					const m = String(now.getMinutes()).padStart(2, '0');
					const s = String(now.getSeconds()).padStart(2, '0');
					document.getElementById('clock').textContent = `${h}:${m}:${s}`;
					// Date display
					const dateStr = now.toLocaleDateString(undefined, {
						weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'
					});
					document.getElementById('date').textContent = dateStr;
				}

				// Chat timer logic
				let chatOnTriggered = false;
				let greenTimeout = null;

				function updateChatTimer() {
					const chatTimer = document.getElementById('chat-timer');
					if (!chatTimer) return; // nothing to do if element missing
					const now = new Date();
					const clockEl = document.getElementById('clock');
					const h = now.getHours();
					const m = now.getMinutes();
					const s = now.getSeconds();
					const weekday = now.getDay(); // 0=Sun,1=Mon,...,3=Wed,5=Fri
					const isChatOffDay = (weekday === 3 || weekday === 5); // Wed or Fri
					// 22:00 = 10pm, 23:00 = 11pm
					if (h === 22 && isChatOffDay) {
						// apply red to both chat timer and main clock when chat is off on selected days
						chatTimer.classList.remove('green');
						chatTimer.classList.add('red');
						chatTimer.textContent = 'CHAT OFF';
						if (clockEl) {
							clockEl.classList.add('red');
						}
					} else if (h === 23 && m === 0 && s === 0 && !chatOnTriggered) {
						chatOnTriggered = true;
						chatTimer.classList.remove('red');
						chatTimer.classList.add('green');
						chatTimer.textContent = 'CHAT ON!';
						greenTimeout = setTimeout(() => {
							chatTimer.classList.remove('green');
							chatTimer.textContent = 'Timer';
						}, 10000);
					} else if (h === 23 && m === 0 && s > 0 && chatOnTriggered && s <= 9) {
						chatTimer.textContent = `Timer: ${10 - s}s`;
					} else if (h === 23 && m === 0 && s > 9) {
						chatTimer.classList.remove('green');
						chatTimer.textContent = 'Timer';
					} else {
						chatOnTriggered = false;
						if (greenTimeout) clearTimeout(greenTimeout);
						chatTimer.classList.remove('green');
						chatTimer.classList.remove('red');
						chatTimer.textContent = 'Timer';
						if (clockEl) {
							clockEl.classList.remove('red');
						}
					}
				}

				setInterval(() => {
					updateClock();
					updateChatTimer();
				}, 1000);
				updateClock();
				updateChatTimer();


		</script>
</body>
</html>
